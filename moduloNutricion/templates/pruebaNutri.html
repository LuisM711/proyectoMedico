{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'css/asignacionMenu.css' %}">
<div id="asignarMenu" style="display: none;" class="contenido">
    <h2>Menú Alimenticio</h2>
    <h3>Por porciones de Alimentos</h3>
    <table class="table  table-bordered border-primary border border-primary-subtle table-hover" id="tabla">
       <thead class="table-dark">
        <tr>
            <th><b>Comidas</b></th>
            <th><i class="fa-solid fa-carrot"></i> Verduras</th>
            <th><i class="fa-solid fa-apple-whole"></i> Frutas</th>
            <th><i class="fa-solid fa-wheat-awn"></i> Cereales</th>
            <th><i class="fa-solid fa-wheat-awn"></i> Leguminosas</th>
            <th><i class="fa-solid fa-bacon"></i> Origen Animal</th>
            <th><i class="fa-solid fa-mug-saucer"></i> Leche y Derivados</th>
            <th><i class="fa-solid fa-cheese"></i> Grasas</th>
            <th><i class="fa-solid fa-ice-cream"></i> Azúcares</th>
        </tr>
       </thead>
  
      
        <tr>
            <th><i class="fa-solid fa-egg"></i><p>Desayunos</p></th>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            
        </tr>
        <tr>
            <th><i class="fa-solid fa-apple-whole"></i><p>Colación</p></th>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
        </tr> 
        <tr>
            <th><i class="fa-solid fa-drumstick-bite"></i><p>Comidas</p</th>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
        
            </tr>
            <tr>
                <th><i class="fa-solid fa-apple-whole"></i><p>Colación</p></th>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
                <td>
                    <input type="number" required min="0" required max="20" value="0" class="porciones">
                </td>
            </tr> 
        <tr>
            <th><i class="fa-solid fa-mug-saucer"></i><p>Cenas</p></th>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
            <td>
                <input type="number" required min="0" required max="20" value="0" class="porciones">
            </td>
        </tr> 
    </table>
        
        <div class="recomendaciones">
            <section>
                <h2>Recomendaciones</h2>
                <select class="form-select form-select-lg mb-3" aria-label="Large select example">
                    <option selected>Seleccione una comida</option>
                    <option value="1">Desayuno</option>
                    <option value="2">Comida</option>
                    <option value="3">Cena</option>
                    <option value="4">Colación</option>
                </select>
                <textarea name="" id="" cols="30" rows="10"></textarea>
            </section>
            <input type="button" value="Lista de Alimentos" id="lista" onclick="openIngredientDialog()">
            <input type="button" onclick="siguiente('menu')" value="Siguiente">
            <dialog id="alimentos">
                <div class="model-content">
                    <div id="modalContent"></div>
                </div>
                    Hola
                </p>
            </dialog>
        </div>
</div>
<script>
    const buttonLista = document.querySelector("#lista");
    buttonLista.addEventListener("click", function(){
        fetch('{% static "alimentos.json" %}')
        .then(response => response.json())
        .then(data => fillModalWithData(data))
        .catch(error => console.error('Error fetching JSON:',error));
        const alertDialog = document.querySelector("#alimentos");
        alertDialog.showModal();
    });
    function fillModalWithData(jsonData){
        var verduras = jsonData.alimentos.verduras;
        var modelData = '';
        for(var key in verduras){
            var item = verduras[key];
            modelData += `
                            <h2> ${key}</h2>
                            <ul>
                                <li>Categoria:${item.Categoria}</li>
                                <li>Porcion:${item.Porcion}</li>
                                <li>Unidad:${item.Unidad}</li>
                                <li>Energía:${item.Energia}</li>
                                <li>Proteina:${item.Proteina}</li>
                                <li>Lipidos:${item.Lipidos}</li>
                                    
                            </ul>
            `
        }
        document.getElementById('modalContent').innerHTML=modelData;
        document.getElementById('myModal').style.display='block'
    }
    /*function openIngredientDialog(){
        $.getJSON('/consulta_medica/<int:id>/alimentos', function(data){
            var tableHtml = '<table class="table"><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody>';
            $.each(data.alimentos, function(index, alimento){
                tableHtml += `<tr><td>${alimento.verduras}</td><td>${alimento.frutas}</td></tr>`;
            });
            tableHtml+='</tbody></table>';
            $('#lista').html(tableHtml);
            var dialog = document.getElementById('alimentos');
            dialog.showModal();
        });
    }*/
</script>


    